<div class="container">
  <h1>User Management</h1>

  <button (click)="toggleForm()" class="add-btn">
    {{ showForm() ? 'Hide Form' : 'Add User' }}
  </button>

  @if (showForm()) {
  <user-form (userSubmit)="onUserSubmit($event)" (cancel)="toggleForm()" />
  }

  <div class="users-container">
    <h2>Users List</h2>
    @if (users().length === 0) {
    <p>No users available</p>
    } @else {
    <ul class="users-list">
      @for (user of users(); track user.id) {
      <li
        class="user-item"
        [class.selected]="selectedUser()?.id === user.id"
        (click)="onSelectUser(user.id)"
      >
        <span><strong>ID:</strong> {{ user.id }}</span>
        <span><strong>Name:</strong> {{ user.name }}</span>
        <button (click)="deleteUser(user.id)" class="delete-btn">Delete</button>
      </li>
      } @if (selectedUser()) {
      <user-orders
        [selectedUser]="selectedUser()!"
        [selectedUserOrders]="selectedUserOrders()"
        [selectSelectedUserSummary]="selectSelectedUserSummary()!"
        (resetSelectedUser)="onClearSelection()"
      />
      }
    </ul>
    }
  </div>
</div>
